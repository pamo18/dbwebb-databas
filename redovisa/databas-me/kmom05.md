##Kmom05

Inom Databas Kmom05 ligger fokus på Procedur och Triggers.

En Procedur in SQL är lagrade instruktioner som kan användas efter behov om och om igen.  Istället för att skriva samma kod flera gånger kan man lagra koden direkt i databasen.  Det blir säkrare att lagra direkt i databasen där användaren kommunicerar enbart genom dessa beprövade instruktioner. En lagrad Procedur fungerar likt en funktion i andra programmeringsspråk där man kan skicka med parametrar för vidare hantering.  En nackdel är att man måste har tillgång till databasen för att ändra en Procedur.

En Trigger är också lagrad inom själva databasen och fungerar genom att känna av specifika händelser som när data är uppdaterad, skapad eller raderat från databasen.  Dessa händelser är bevakade och när de inträffar kallas specifika instruktioner kopplade till den specifika händelsen.  Man kan tex. med varje uppdatering skapa en logg fil med information om vad som har blivit uppdaterad och när uppdateringen inträffades.  En nackdel är att man måste har tillgång till databasen för att ändra en Trigger samt att en trigger som är bortglömt kan orsaka frustrationer med felhanteringen.

Det gick bra att komma ingång med lagrade procedur och triggers.  En procedur är ett säkrare sätt att utnyttja funktioner med databasen samt kan användas med olika klienter, väldigt smidigt.  En trigger tillför viktig automation till databashanteringen för att underlätta arbeten för användaren och skaparen.  Jag fördrar att programmera inom databasen när det gäller hantering av data för att göra det viktigaste och känsligaste arbeten innan klienten tar över.  Koden i klienten blir också mycket renare samt lättare att förstår när man kan lifta ut så mycket SQL kod som möjligt.

Jag har implementerat CRUD inom min webbklient och det kändes bra.  Man kan lägga till, radera, uppdatera samt visa allt som rör produkttabellen.  Att använda en avlastningsroute för funktionalitet har jag jobbat med tidigare och kändes helt normalt.  Att jobba med olika routes samt datahantering inom Express.js känns också bra där det tog lite tid att justera bara.

Det gick bra att jobba med min eshop där jag har skapat två olika klienter för att jobba med databasen.  Jag var tvungen att justera visa delar av databasen men inte så mycket som jag trodde.  Det största ändring var att skapa en Junktion tabell för produktkategorier för en many to many relation som inte jag hade gjort under planeringen.  Det var smidigt att skapa de olika procedurer som kan användas direkt i databasen samt logg hanteringen genom triggers.  Jag har lagt olika triggers när produkttabellen ändras samt produkt lager tabellen tex. när man lägger till inventory.  På terminalens klientprogram så kan man lägga till inventory till de olika produkter på olika hyllor i lagret och det visar det totala lagersaldot för varje produkt samt hur många som finns på varje hylla.  Jag utnyttjade vyer, Join, IF/ELSE samt många andra tekniker i min databas, det känns som den fungera bra för ändamålet nu.

Min TIL för detta kursmoment är funktionen GROUP_CONCAT för att konkatenera ihop data som tex. det olika kategorier, väldigt smidigt och effektiv att använda.
